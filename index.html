<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>私たちのありがとうを皆様へ | カタログギフトご注文</title>
  <meta name="description" content="結婚式カタログギフトの第1・第2希望を、写真と説明を見ながらお選びいただけます。" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#F6F1EA;        /* ベージュ */
      --ink:#3D322B;       /* 濃ブラウン */
      --gold:#C9A66B;      /* ゴールドベージュ */
      --panel:#FFFFFFCC;   /* 半透明白 */
    }
    body{color:var(--ink);}
    .bg-floral{
      background-image:
        radial-gradient(90% 60% at 10% 10%, rgba(201,166,107,0.09), transparent),
        radial-gradient(80% 50% at 90% 20%, rgba(61,50,43,0.06), transparent),
        linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.9)),
        url('https://images.unsplash.com/photo-1501594907352-04cda38ebc29?q=80&w=1600&auto=format&fit=crop');
      background-size:cover;
      background-position:center;
    }
    .heading{letter-spacing:.08em; font-family:"Georgia", serif; color:var(--ink)}
    .gold{color:var(--gold)}
    .btn{border-radius:9999px; padding:.6rem 1rem; font-weight:600}
    .btn-main{background:var(--ink); color:white}
    .btn-main:hover{background:var(--gold); color:var(--ink)}
    .btn-ghost{border:1px solid var(--ink); color:var(--ink)}
    .btn-ghost:hover{border-color:var(--gold); color:var(--ink)}
    .card{background:var(--panel); backdrop-filter: blur(6px);}
    .sticky-cta{position:sticky; bottom:0; backdrop-filter: blur(8px);}
    .badge{border:1px solid rgba(0,0,0,.1); padding:.125rem .5rem; border-radius:9999px; font-size:.75rem}
  </style>
</head>
<body class="min-h-screen bg-floral">
  <!-- HERO -->
  <header class="max-w-5xl mx-auto px-6 pt-14 pb-8 text-center">
    <p class="text-xs tracking-[.25em] gold">THANK YOU</p>
    <h1 class="mt-2 text-3xl md:text-5xl font-semibold heading">私たちのありがとうを皆様へ</h1>
    <p class="mt-4 text-base md:text-lg leading-relaxed">今回は、私たちが普段お世話になっている方々の商品を中心に、カタログギフトとしてご用意しました。<br class="hidden md:inline"/>写真と説明をご覧のうえ、第1・第2希望をお選びください。</p>
  </header>

  <!-- LIST GRID -->
  <main class="max-w-6xl mx-auto px-6 pb-20">
    <section id="catalog" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- JSでカードを生成 -->
    </section>

    <!-- YOUR SELECTION -->
    <section class="sticky-cta z-10 mt-8">
      <div class="card rounded-3xl shadow-lg border border-[color:var(--gold)]/30 p-4 md:p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div>
          <p class="text-xs gold tracking-wider">YOUR SELECTION</p>
          <div class="mt-1 text-sm md:text-base">
            <span class="badge mr-2">第1希望</span><span id="sel1" class="font-medium">未選択</span>
            <span class="badge ml-4 mr-2">第2希望</span><span id="sel2" class="font-medium">未選択</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <button id="clearBtn" class="btn btn-ghost" type="button">クリア</button>
          <a href="#order" class="btn btn-main">情報を入力して申し込む</a>
        </div>
      </div>
    </section>

    <!-- FORM -->
    <section id="order" class="mt-12">
      <form id="orderForm" class="card rounded-3xl shadow-lg p-8 border border-[color:var(--gold)]/30 max-w-3xl mx-auto">
        <h2 class="text-2xl font-semibold text-center heading gold mb-6">ご注文フォーム</h2>
        <input type="hidden" name="choice1" id="choice1" />
        <input type="hidden" name="choice2" id="choice2" />

        <div class="grid md:grid-cols-2 gap-5">
          <div>
            <label class="block text-sm font-medium">お名前（姓）<span class="text-rose-600">＊</span></label>
            <input type="text" name="last_name" required class="mt-1 w-full rounded-xl border-slate-300 focus:border-[color:var(--gold)] focus:ring-[color:var(--gold)]" />
          </div>
          <div>
            <label class="block text-sm font-medium">お名前（名）<span class="text-rose-600">＊</span></label>
            <input type="text" name="first_name" required class="mt-1 w-full rounded-xl border-slate-300 focus:border-[color:var(--gold)] focus:ring-[color:var(--gold)]" />
          </div>
          <div>
            <label class="block text-sm font-medium">メールアドレス<span class="text-rose-600">＊</span></label>
            <input type="email" name="email" required class="mt-1 w-full rounded-xl border-slate-300 focus:border-[color:var(--gold)] focus:ring-[color:var(--gold)]" />
          </div>
          <div>
            <label class="block text-sm font-medium">電話番号<span class="text-rose-600">＊</span></label>
            <input type="tel" name="tel" inputmode="tel" required class="mt-1 w-full rounded-xl border-slate-300 focus:border-[color:var(--gold)] focus:ring-[color:var(--gold)]" />
          </div>
          <div class="md:col-span-2">
            <label class="block text-sm font-medium">住所（任意）</label>
            <input type="text" name="address" placeholder="例：岐阜県岐阜市◯◯1-2-3" class="mt-1 w-full rounded-xl border-slate-300 focus:border-[color:var(--gold)] focus:ring-[color:var(--gold)]" />
          </div>
        </div>

        <div class="mt-6 flex items-start gap-3">
          <input id="agree" type="checkbox" class="mt-1" required />
          <label for="agree" class="text-sm">入力内容に間違いがないこと、在庫状況により第2希望をご用意する場合があることに同意します。</label>
        </div>

        <div class="mt-8 text-center">
          <button id="submitBtn" type="submit" class="btn btn-main">申し込む</button>
          <p id="status" class="text-sm mt-3"></p>
        </div>
        <p class="mt-4 text-xs text-center opacity-70">個人情報は本ギフトの手配以外の目的には使用しません。</p>
      </form>
    </section>
  </main>

  <footer class="max-w-5xl mx-auto px-6 pb-12 text-center text-sm opacity-80">
    <p>お問い合わせ：<a href="mailto:info@example.jp" class="underline">info@example.jp</a> ／ TEL: 000-0000-0000</p>
    <p class="mt-2">© 2025 Wedding Catalog</p>
  </footer>

  <script>
// ---- 商品データ（写真URLは差し替え可：未設定はプレースホルダー） ----
const ITEMS = [
  { name:'白日さん', desc:'桑下さんの日本料理お取り寄せ。丁寧な出汁が沁みる名品。', img:'./1.png' },      
  { name:'プルシック', desc:'所シェフの焼き菓子＆生菓子からセレクト。贈り物にも人気のスイーツ。', img:'./2.png' },
  { name:'八木さんお花ギフト', desc:'TAKANASI 八木さんの季節の花束／アレンジメント。', img:'./3.png' },      
  { name:'酒のひろせさん', desc:'広瀬さん厳選。食事に合わせて楽しめる一本。', img:'./4.png' },
  { name:'ヒュッゲ珈琲さん', desc:'自家焙煎コーヒー豆と焼き菓子のセット。', img:'./5.png' },
  { name:'トマトギフト', desc:'細野ファーム自慢の甘いトマトを詰め合わせ。', img:'./6.png' },
  { name:'東さんパーソナルレッスン', desc:'REV 東さんのトレーニング2回チケット。', img:'./7.png' },
  { name:'真衣さんオイルマッサージ', desc:'POLA Juair-Amor 真衣さんのオイルマッサージ。', img:'./8.png' },
  { name:'プロゴルフレッスン', desc:'ユニバーサルゴルフラウンジにてプロによるマンツーマン。', img:'./9.png' },
  { name:'志津ママのお店', desc:'春あかり（来春オープン）で使えるお食事券。', img:'./10.png' },
  { name:'知佳さんカット＋ヘッドスパ', desc:'Lino\'a 知佳さんによるカット＆癒しのヘッドスパ。', img:'./11.png' },
  { name:'プロフ写真/家族写真撮影', desc:'スタジオ1989 エイコさんの撮影。記念の一枚を。', img:'./12.png' },
];

    // 画像プレースホルダー
    const ph = 'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop';

    const grid = document.getElementById('catalog');
    const sel1 = document.getElementById('sel1');
    const sel2 = document.getElementById('sel2');
    const choice1 = document.getElementById('choice1');
    const choice2 = document.getElementById('choice2');

    // カードUI生成
    ITEMS.forEach((item)=>{
      const el = document.createElement('article');
      el.className = 'card rounded-3xl overflow-hidden shadow-md hover:shadow-xl transition border border-black/5';
      el.innerHTML = `
        <div class="aspect-[4/3] w-full overflow-hidden bg-white">
          <img src="${item.img || ph}" alt="${item.name}" class="w-full h-full object-cover"/>
        </div>
        <div class="p-5">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold text-lg">${item.name}</h3>
            <span class="badge">選べるギフト</span>
          </div>
          <p class="mt-2 text-sm opacity-80">${item.desc}</p>
          <div class="mt-4 grid grid-cols-2 gap-2">
            <button class="btn btn-ghost w-full" data-act="c1" data-name="${item.name}">第1希望にする</button>
            <button class="btn btn-main w-full" data-act="c2" data-name="${item.name}">第2希望にする</button>
          </div>
        </div>`;
      grid.appendChild(el);
    });

    // 選択ハンドラ
    grid.addEventListener('click', (e)=>{
      const btn = e.target.closest('button[data-act]');
      if(!btn) return;
      const name = btn.dataset.name;
      if(btn.dataset.act==='c1'){
        choice1.value = name; sel1.textContent = name;
        // 1と2が同じなら2を空に
        if(choice2.value===name){ choice2.value=''; sel2.textContent='未選択'; }
      } else {
        choice2.value = name; sel2.textContent = name;
        if(choice1.value===name){ choice1.value=''; sel1.textContent='未選択'; }
      }
      window.location.hash = '#orderForm';
    });

    document.getElementById('clearBtn').addEventListener('click', ()=>{
      choice1.value=''; sel1.textContent='未選択';
      choice2.value=''; sel2.textContent='未選択';
    });

    // 送信
    const ENDPOINT_URL = '';// ← GAS等のWebエンドポイントを設定

    document.getElementById('orderForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const status = document.getElementById('status');
      const btn = document.getElementById('submitBtn');
      status.textContent='';

      // 最低限のバリデーション
      if(!choice1.value && !choice2.value){
        alert('第1または第2希望をお選びください。');
        return;
      }

      const fd = new FormData(e.target);
      const payload = Object.fromEntries(fd.entries());
      payload.timestamp = new Date().toISOString();

      if(!ENDPOINT_URL){
        alert('送信先（ENDPOINT_URL）が未設定です。Google Apps ScriptのURLを設定してください。');
        return;
      }

      try{
        btn.disabled = true; btn.classList.add('opacity-60');
        status.textContent = '送信中…';
        const res = await fetch(ENDPOINT_URL, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)});
        if(!res.ok) throw new Error('network');
        status.textContent = '送信が完了しました。ご入力ありがとうございました。';
        e.target.reset();
        choice1.value=''; sel1.textContent='未選択';
        choice2.value=''; sel2.textContent='未選択';
      }catch(err){
        console.error(err);
        status.textContent = '送信に失敗しました。時間をおいて再度お試しください。';
      }finally{
        btn.disabled = false; btn.classList.remove('opacity-60');
      }
    });
  </script>
</body>
</html>
